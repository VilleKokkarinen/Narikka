(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{113:function(e,a,t){e.exports=t(189)},17:function(e,a,t){"use strict";t.d(a,"a",function(){return n});var n={default:"Hmm, an unknown error occured",timeout:"Server Timed Out. Check your internet connection",invalidJson:"Response returned is not valid JSON",invalidFirebase:"Firebase is not connected correctly",memberExists:"Member already exists",missingFirstName:"First name is missing",missingLastName:"Last name is missing",missingEmail:"Email is missing",missingPassword:"Password is missing",passwordsDontMatch:"Passwords do not match",game04:"Game not found"}},187:function(e,a,t){var n={"./CoinFlip/CoinFlip":[112,9,0],"./CoinFlip/CoinFlip.js":[112,9,0],"./CoinFlip/img/Empty.png":[195,7,4],"./CoinFlip/img/FlipGif.gif":[194,7,5],"./CoinFlip/img/Heads.png":[192,7,6],"./CoinFlip/img/Horizontal.png":[196,7,7],"./CoinFlip/img/Tails.png":[193,7,8],"./CoinFlip/img/Vertical.png":[197,7,9]};function r(e){var a=n[e];return a?t.e(a[2]).then(function(){var e=a[0];return t.t(e,a[1])}):Promise.resolve().then(function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a})}r.keys=function(){return Object.keys(n)},r.id=187,e.exports=r},188:function(e,a,t){},189:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(40),l=t.n(c),s=t(16),o=t(220),i=t(100),u=t(32),m=t(82),d=t(107),h=t(101),p=t(21),f={loading:!1,info:null,error:null,success:null};var b={loading:!0,error:null,memberTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],members:[{placeholder:!0,id:"0",userName:"---- --- -- ------"}]};var g={loading:!0,error:null,chats:[{placeholder:!0,id:"0",name:"you don't have any chats yet. ",authorizedUsers:[{id:"0",userName:""},{id:"1",userName:""}]}]};var E={gameTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],games:[{placeholder:!0,id:"0",title:"---- --- -- ------",body:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",author:"---- ------ ",category:1,image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5",details:["---- --- -- ------","---- ------ --- --"],info:["---- --- -- ------","---- ------ --- --"]}],favourites:[]};var v={rehydrated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"persist/REHYDRATE":return!0;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STATUS_REPLACE":return Object(p.a)({},e,{loading:a.loading||!1,info:a.info||null,error:a.error||null,success:a.success||null});default:return e}},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN":return a.data?Object(p.a)({},e,{uid:a.data.uid,email:a.data.email,emailVerified:a.data.emailVerified}):{};case"USER_DETAILS_UPDATE":return a.data?Object(p.a)({},e,{userName:a.data.userName,signedUp:a.data.signedUp,role:a.data.role,finance:a.data.finance}):{};case"USER_RESET":return{};default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MEMBERTYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,memberTypes:a.data});case"MEMBERS_ERROR":return Object(p.a)({},e,{error:a.data});case"MEMBERS_REPLACE":var t=[];if(a.data&&"object"===typeof a.data){var n=a.data,r=[];for(var c in n)r.push(n[c]);t=r.map(function(e){return{id:e.id,userName:e.userName}})}return Object(p.a)({},e,{error:null,loading:!1,members:t});default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FAVOURITES_REPLACE":return Object(p.a)({},e,{favourites:a.data||[]});case"GAMETYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,gameTypes:a.data});case"GAMES_ERROR":return Object(p.a)({},e,{error:a.data});case"GAMES_REPLACE":var t=[];return a.data&&"object"===typeof a.data&&(t=Object.values(a.data).map(function(e){return{id:e.id,title:e.title,body:e.body,category:e.category,image:e.image,author:e.author,details:e.details,info:e.info}})),Object(p.a)({},e,{error:null,loading:!1,games:t});default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHATS_ERROR":return Object(p.a)({},e,{error:a.data});case"CHATS_REPLACE":var t=[];return a.data&&"object"===typeof a.data&&(t=Object.values(a.data).map(function(e){return{id:e.chat.id,name:e.chat.name,messages:Object.values(e.chat.messages).map(function(e){return{id:e.id,message:e.messagetext,timestamp:e.timestamp,author:e.author}})||{},authorizedUsers:Object.values(e.chat.authorizedUsers).map(function(e){return{id:e.id,userName:e.userName}})}})),Object(p.a)({},e,{error:null,loading:!1,chats:t});default:return e}}},y={key:"root",storage:d.a,blacklist:["status"]},w=Object(m.a)(y,v),O=[h.a],j=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,a=Object(u.e)(w,e(u.a.apply(void 0,O)));return{persistor:Object(m.b)(a,null,function(){a.getState()}),store:a}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=t(224),S=t(219),C=t(199),k=t(108),x=t(109),P=t(45),T=function(e){var a=e.pageTitle,t=e.children;return r.a.createElement(C.a,null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,a)),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},t)))};T.defaultProps={pageTitle:"React App"};var R=T,L=t(10),A=t(13),F=t(11),U=t(12),D=t(15),M=t.n(D),_=t(24),I=t(17),z=t(8);function G(e){var a=z.b&&z.a&&z.a.auth()&&z.a.auth().currentUser&&z.a.auth().currentUser.uid?z.a.auth().currentUser.uid:null;return!!a&&z.b.child("users/".concat(a)).on("value",function(a){var t=a.val()||[];return e({type:"USER_DETAILS_UPDATE",data:t})})}var B=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).componentDidMount=function(){(0,t.props.fetchData)()},t.render=function(){var e=t.props,a=e.Layout,n=e.member,c=e.memberLogout,l=e.Items;return r.a.createElement(a,{member:n,logout:c,Items:l})},t}return Object(U.a)(a,e),a}(n.Component),V={memberLogout:function(){return function(e){return new Promise(function(a,t){return z.a.auth().signOut().then(function(){return a(e({type:"USER_RESET"}))}).catch(t)}).catch(function(e){throw e.message})}},fetchData:function(){return null===z.a?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){z.a.auth().onAuthStateChanged(function(t){return t?a(G(e)):function(){return new Promise(function(){return a()})}})})}}},H=Object(s.b)(function(e){return{member:e.member||{}}},V)(B),W=t(26),J=t(14),K=t(200),Y=t(201),q=t(202),X=t(203),$=t(222),Z=t(204),Q=t(205),ee=t(206),ae=t(190),te=t(221),ne="Kasino W",re=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).onLogout=function(){var e=t.props,a=e.history;(0,e.logout)().then(function(){return a.push("/login")})},t.toggleDropDown=function(){var e=t.state.isOpen;t.setState({isOpen:!e})},t.toggleDropDown=t.toggleDropDown.bind(Object(J.a)(Object(J.a)(t))),t.state={isOpen:!1},t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this.props,a=e.member,t=e.Items,n=this.state.isOpen,c=!(!a||!a.email);return r.a.createElement("header",{style:{height:60}},r.a.createElement(K.a,{dark:!0,expand:"sm",className:"fixed-top",style:{minHeight:60,justifyContent:"center",alignItems:"center"}},r.a.createElement(ae.a,{to:"/",className:"navbar-brand",style:{color:"#ffd970",height:40}},r.a.createElement("img",{src:"https://i.imgur.com/Dxkqw0C.png",alt:"header",className:"header-image"})," ",ne),r.a.createElement(Y.a,{onClick:this.toggleDropDown}),r.a.createElement(q.a,{isOpen:n,navbar:!0},r.a.createElement(X.a,{className:"ml-auto",navbar:!0},r.a.createElement("div",{className:"d-block d-sm-none"},t),r.a.createElement($.a,{nav:!0},r.a.createElement(Z.a,{style:{color:"#ffd970",margin:"0.5rem 0.75rem",padding:0},nav:!0,caret:!0},c&&a.finance?"balance ".concat(a.finance.balance," $ | "):" "," ",c?"".concat(a.userName):"My Account"),r.a.createElement(Q.a,{style:{backgroundColor:"#1c1f25",padding:0,margin:0,border:"2px solid #66531d"}},!c&&r.a.createElement("div",null,r.a.createElement(ee.a,{style:{borderBottom:"1px solid #66531d"},tag:ae.a,to:"/login"},"Login"),r.a.createElement(ee.a,{tag:ae.a,to:"/sign-up"},"Sign Up")),c&&r.a.createElement("div",null,r.a.createElement(ee.a,{style:{borderBottom:"1px solid #66531d"},tag:ae.a,to:"/update-profile"},"Update Profile"),r.a.createElement(ee.a,{tag:"button",onClick:this.onLogout},"Logout"))))))))}}]),a}(n.Component);re.defaultProps={member:{}};var ce=Object(te.a)(re),le=function(){return r.a.createElement("footer",{className:"mt-5"},r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12",className:"text-right pt-3"},r.a.createElement("p",null," -> ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Github ")," | Dev: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Ville Kokkarinen ")))))},se=t(207),oe=function(){return r.a.createElement("div",null,r.a.createElement(se.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat("/"===window.location.pathname&&"active"),to:"/"},r.a.createElement("i",{className:"icon-home"})," ",r.a.createElement("span",null,"Home"))),r.a.createElement(se.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/game")&&"active"),to:"/games"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Games"))),r.a.createElement(se.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/chats")&&"active"),to:"/chats"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Priv. Chats"))),r.a.createElement(se.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/member")&&"active"),to:"/members"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Members"))))},ie=function(){return r.a.createElement(x.a,{sm:"2",md:"2",className:"d-none d-sm-block sidebar"},r.a.createElement(X.a,{vertical:!0},oe()))},ue=function(e){var a=e.pageTitle,t=e.children,n=e.props;return r.a.createElement("div",null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,a)),r.a.createElement(H,Object.assign({},n,{Layout:ce,Items:oe()})),r.a.createElement(C.a,{fluid:!0},r.a.createElement(k.a,null,r.a.createElement(ie,null),r.a.createElement(x.a,{className:"SideBarTemplateCol"},t,r.a.createElement(le,null)))))};ue.defaultProps={pageTitle:"React App"};var me=ue,de=t(208),he=function(){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(de.a,{className:"bg-primary text-white"},r.a.createElement("h1",null,"Web & Mobile App Starter Kit"),r.a.createElement("p",{className:"lead"},"testisovellus"),r.a.createElement("p",null,"web + mobile reacti pohja"))),r.a.createElement(k.a,{className:"pt-md-2"},r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-map"})," ","Routing"),r.a.createElement("p",null,"React Router is used to handle all web-side routing."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ReactTraining/react-router",className:"btn btn-primary"},"React Router Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-fire"})," ","Firebase"),r.a.createElement("p",null,"Firebase is all ready to go with examples on how to read/write data to/from Firebase."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/database/web/start",className:"btn btn-primary"},"Firebase Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-organization"})," ","Redux"),r.a.createElement("p",null,"State management the 'clean way' via Redux is setup with examples - woohoo!"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://redux.js.org/docs/introduction/",className:"btn btn-primary"},"Redux Docs")))),r.a.createElement(k.a,{className:"pt-md-5 pb-5"},r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-layers"})," ","Redux Persist"),r.a.createElement("p",null,"Persist the data stored in Redux for faster load times without needing to hit the server each page load."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/rt2zz/redux-persist",className:"btn btn-primary"},"Redux Persist Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-drop"})," ","Web Styles"),r.a.createElement("p",null,"Webpack, SCSS, Bootstrap and ReactStrap - ready at your fingertips."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://reactstrap.github.io/components/alerts/",className:"btn btn-primary"},"ReactStrap Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-user-following"})," ","Auth"),r.a.createElement("p",null,"Most apps need user authentication. This one comes ready to go with Firebase Auth - but you can easily change that within the `/actions/member.js`"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/",className:"btn btn-primary"},"Firebase Auth Docs")))),r.a.createElement("hr",null))};var pe=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},t.componentDidMount=function(){return t.fetchData()},t.fetchData=function(e){var a=t.props,n=a.fetchGames,r=a.fetchGameTypes;return t.setState({loading:!0}),n(e).then(function(){return r()}).then(function(){return t.setState({loading:!1,error:null})}).catch(function(e){return t.setState({loading:!1,error:e})})},t.render=function(){var e=t.props,a=e.Layout,n=e.games,c=e.match,l=t.state,s=l.loading,o=l.error,i=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{gameId:i,error:o,loading:s,games:n.games,reFetch:function(){return t.fetchGames()}})},t}return Object(U.a)(a,e),a}(n.Component);pe.defaultProps={match:null};var fe={fetchGames:function(){return null===z.a?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){return z.b.child("games").on("value",function(t){var n=t.val()||[];return a(e({type:"GAMES_REPLACE",data:n}))})}).catch(function(e){throw e.message})}},fetchGameTypes:function(){return null===z.a?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a,t){return z.b.child("gameTypes").once("value").then(function(t){var n=t.val()||[];return a(e({type:"GAMETYPES_REPLACE",data:n}))}).catch(t)}).catch(function(e){throw e.message})}}},be=Object(s.b)(function(e){return{games:e.games||{}}},fe)(pe),ge=t(209),Ee=t(210),ve=t(211),ye=t(212),we=t(213),Oe=t(20),je=function(e){var a=e.error,t=e.loading,n=e.games;if(a)return r.a.createElement(Oe.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ee.a,{className:"p-card",key:"".concat(e.id)},r.a.createElement(ve.a,null,r.a.createElement(ae.a,{to:"/game/".concat(e.id)},function(e){if(""!==e.image)return r.a.createElement(ge.a,{style:{maxHeight:"10vh",maxWidth:"10vw"},top:!0,src:e.image,alt:e.title})}(e)),r.a.createElement(ye.a,null,e.title.length>=60?"".concat(e.title.substring(0,60)," ..."):e.title),r.a.createElement(we.a,null,e.body.length>=60?"".concat(e.body.substring(0,60)," ..."):e.body),r.a.createElement(ae.a,{className:"btn btn-primary",to:"/game/".concat(e.id)},"View Game ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},c))};je.defaultProps={error:null};var Ne=je,Se=t(34),Ce=function(e){var a=e.error,c=e.loading,l=e.games,s=e.gameId;if(c)return r.a.createElement(Se.a,null);if(a)return r.a.createElement(Oe.a,{content:a});var o=null;if(s&&l&&(o=l.find(function(e){return e.id===s})),!o)return r.a.createElement(Oe.a,{content:I.a.game404});var i=r.a.lazy(function(){return t(187)("./"+s+"/"+s)});return r.a.createElement("div",null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,o.title)),r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ae.a,{className:"btn btn-primary",to:"/games"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement("h1",null,o.title.length>=100?"".concat(o.title.substring(0,100)," ..."):o.title),r.a.createElement("p",null,"by: ",o.author))),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(i,null)))};Ce.defaultProps={error:null};var ke=Ce;function xe(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.values(a).map(function(){var e=Object(_.a)(M.a.mark(function e(a){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.b.child("users").child(a.id).once("value").then(function(e){return e.val()}).catch(function(){return null});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.b.child("chat-messages").child(a).once("value").then(function(e){var a=e.val();return Object.values(a)}).catch(function(){return null});case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.b.child("chats").child(a).once("value").then(function(){var e=Object(_.a)(M.a.mark(function e(a){var t,n,r,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.val(),e.next=3,xe(t.authorizedUsers);case 3:return n=e.sent,e.next=6,Te(t.chatId);case 6:return r=e.sent,c={id:t.chatId,name:t.name,authorizedUsers:n,messages:r},e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()).catch(function(){return null});case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Fe=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},t.componentDidMount=function(){t.chats={},t.fetchData()},t.fetchData=function(e){var a=t.props,n=a.fetchChats,r=a.member;return n(e).then(function(){return n(r.uid)}).then(function(){return t.setState({loading:!1,error:null})}).catch(function(e){return t.setState({loading:!1,error:e})})},t.render=function(){var e=t.props,a=e.Layout,n=e.chats,c=e.match,l=e.member,s=t.state,o=s.loading,i=s.error,u=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{member:l,chatId:u,error:i,loading:o,chats:n.chats,reFetch:function(){return t.fetchData()}})},t}return Object(U.a)(a,e),a}(n.Component);Fe.defaultProps={match:null};var Ue={fetchChats:function(e){return null===z.a?function(){return new Promise(function(e){return e()})}:function(a){return new Promise(function(t){return z.b.child("user-chats").child(e).on("value",function(){var e=Object(_.a)(M.a.mark(function e(n){var r,c,l,s,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=n.val()||null)){e.next=12;break}return c=Object.values(r.chats).map(function(){var e=Object(_.a)(M.a.mark(function e(a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(a.id);case 2:return e.t0=e.sent,e.abrupt("return",{chat:e.t0});case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),e.next=5,Promise.all(c);case 5:return l=e.sent,s=[],l.forEach(function(e){console.log(e),null!=e.chat&&null!==e.chat.messages&&s.push(e)}),e.next=10,Promise.all(s);case 10:(o=e.sent).length>=1&&t(a({type:"CHATS_REPLACE",data:o}));case 12:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())}).catch(function(){return null})}}},De=Object(s.b)(function(e){return{chats:e.chats||{},member:e.member||{}}},Ue)(Fe),Me=function(e){var a=e.error,t=e.loading,n=e.chats;if(a)return r.a.createElement(Oe.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ee.a,{className:"chat-card",key:"".concat(e.id)},r.a.createElement(ve.a,{className:"chat-body"},r.a.createElement(ae.a,{key:e.id,style:{width:"100%"},to:"/chat/".concat(e.id)},r.a.createElement(we.a,{className:"chat-card-title"},e.name)),r.a.createElement(ve.a,{className:"chat-participants"},e.authorizedUsers.map(function(e){return r.a.createElement(ae.a,{key:e.id,className:"chat-card-text",to:"/member/".concat(e.id)},r.a.createElement(we.a,{className:"chat-card-text"},"<",e.userName,">"))}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},c)))};Me.defaultProps={error:null};var _e=Me,Ie=t(22),ze=t(214),Ge=t(215),Be=t(216),Ve=t(103),He=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.OnSubmit=function(){(0,t.props.handleCounter)(t.state.reply),t.setState({reply:""})},t.state={reply:""},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this,a=this.state.reply;return r.a.createElement(Ee.a,{className:"reply-card"},r.a.createElement(ve.a,null,r.a.createElement(ze.a,null,r.a.createElement(Ge.a,null,r.a.createElement(Be.a,{className:"text-area",type:"textarea",rows:"10",name:"reply",id:"reply",placeholder:"...enter a body...",value:a,onChange:this.handleChange})),r.a.createElement(Ve.a,{onClick:function(){e.OnSubmit()},color:"primary"},"Reply to conversation"))))}}]),a}(r.a.Component),We=Object(s.b)(function(e){return{reply:e.reply||""}},{})(He);var Je=function(e){var a=e.error,t=e.loading,n=e.chats,c=e.chatId,l=e.member,s=e.reFetch;if(t)return r.a.createElement(Se.a,null);if(a)return r.a.createElement(Oe.a,{content:a});var o=null;c&&n&&(o=n.find(function(e){return e.id===c}));var i=function(){var e=o.messages.map(function(e){return r.a.createElement(Ee.a,{className:"chat-card-body",key:"".concat(e.id)},r.a.createElement(ve.a,{className:"chat-card-timestamp-body"},r.a.createElement(we.a,{className:"chat-card-timestamp-text"},new Date(+e.timestamp).toLocaleString())),r.a.createElement(ve.a,{className:"chat-card-main-body"},r.a.createElement(ve.a,{className:"chat-card-author-body"},r.a.createElement("img",{className:"chat-card-author-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(ae.a,{style:{width:"100%"},to:"/member/".concat(e.author.id)},r.a.createElement(we.a,{className:"chat-card-author-text"},function(e){var a=null;return e&&o.authorizedUsers&&(a=o.authorizedUsers.find(function(a){return a.id===e})),a.userName}(e.author.id)))),r.a.createElement(ve.a,{className:"chat-card-message-body"},r.a.createElement(we.a,{className:"chat-card-message-text"},e.message))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},e))},u=function(){return r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ae.a,{className:"btn btn-primary",to:"/chats"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")))};if(!o)return r.a.createElement(Oe.a,{content:I.a.chat404});return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},r.a.createElement(i,null)),r.a.createElement(We,{handleCounter:function(e){var a=e,t={id:l.uid},n=(new Date).getTime();!function(e,a,t,n){z.b.child("chat-messages/").child(e).push({id:z.b.child("chat-messages/").child(e).push().key,messagetext:a,author:t,timestamp:n}).catch(function(e){console.log(e)})}(c,a,t,n),s()}})))};Je.defaultProps={error:null};var Ke=Je;var Ye=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).componentDidMount=function(){return t.fetchMembers()},t.fetchMembers=function(){var e=t.props,a=e.fetchMembers,n=e.showError,r=e.fetchMemberTypes;return a().then(function(){return r()}).catch(function(e){return console.log("Error: ".concat(e)),n(e)})},t.render=function(){var e=t.props,a=e.Layout,n=e.members,c=e.match,l=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{open:!1,memberId:l,error:n.error,loading:n.loading,members:n.members,reFetch:function(){return t.fetchMembers()}})},t}return Object(U.a)(a,e),a}(n.Component);Ye.defaultProps={match:null};var qe={fetchMembers:function(){return null===z.a?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){return z.b.child("users").on("value",function(t){var n=t.val()||[];return a(e({type:"MEMBERS_REPLACE",data:n}))})}).catch(function(e){return console.log(e)})}},fetchMemberTypes:function(){return null===z.a?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a,t){return z.b.child("memberTypes").once("value").then(function(t){var n=t.val()||[];return a(e({type:"MEMBERTYPES_REPLACE",data:n}))}).catch(t)}).catch(function(e){return console.log(e)})}},showError:function(e){return function(a){return new Promise(function(t){return t(a({type:"MEMBERS_ERROR",data:e}))})}}},Xe=Object(s.b)(function(e){return{members:e.members||{}}},qe)(Ye),$e=t(106),Ze=function(e){var a=e.error,t=e.loading,n=e.members;if(a)return r.a.createElement(Oe.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ee.a,{className:"member-card",key:"".concat(e.id)},r.a.createElement($e.a,{overlayStyle:{background:"rgba(0, 0, 0, 0.4)"},closeOnDocumentClick:!0,modal:!0,trigger:r.a.createElement(ve.a,{className:"body"},r.a.createElement("img",{className:"img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(we.a,{className:"text"},e.userName))},r.a.createElement(Ee.a,{className:"popup-card"},r.a.createElement(ve.a,{className:"popup-body"},r.a.createElement("img",{className:"popup-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(ve.a,{className:"popup-text-body"},r.a.createElement(we.a,{className:"popup-title"},r.a.createElement(ae.a,{to:"/member/".concat(e.id)},"".concat(e.userName,"'s Profile Page"))),r.a.createElement(we.a,{className:"popup-text"},r.a.createElement(ae.a,{to:{pathname:"/newchat",chatTarget:e}},"Send a private message")))))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},c)))};Ze.defaultProps={error:null};var Qe=Ze,ea=t(217),aa=function(e){var a=e.error,t=e.loading,n=e.members,c=e.memberId;if(t)return r.a.createElement(Se.a,null);if(a)return r.a.createElement(Oe.a,{content:a});var l=null;return c&&n&&(l=n.find(function(e){return e.id===c})),l?r.a.createElement("div",null,r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ae.a,{className:"btn btn-primary",to:"/members"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement("h1",null,"".concat(l.userName)))),r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ee.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(ea.a,null," About this member "),r.a.createElement(ve.a,{style:{backgroundColor:"#606060"}},r.a.createElement(we.a,null,l.userName)))),r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ee.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(ea.a,null," Details "),r.a.createElement(we.a,{style:{backgroundColor:"#606060"}},l.userName))),r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ee.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(ea.a,null," info "),r.a.createElement(we.a,{style:{backgroundColor:"#606060"}},l.userName))))):r.a.createElement(Oe.a,{content:I.a.member404})};aa.defaultProps={error:null};var ta=aa,na=t(218);var ra=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.state={title:"",message:""},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.member,n=a.chatTarget,c=t.uid,l={id:c},s=n.id,o=(e={},Object(Ie.a)(e,c,{id:c}),Object(Ie.a)(e,s,{id:s}),e),i=this.state,u=i.title,m=i.message;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement(ae.a,{className:"btn btn-primary",to:"/"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")),r.a.createElement(x.a,null,r.a.createElement(Ee.a,{style:{backgroundColor:"#606060",top:25}},r.a.createElement(ea.a,{style:{backgroundColor:"black"}},"Start a chat with ".concat(n.userName)),r.a.createElement(ve.a,null,r.a.createElement(ze.a,null,r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"title"}," title "),r.a.createElement(Be.a,{className:"text-area",type:"title",name:"title",id:"title",placeholder:"...enter a title...",value:u,onChange:this.handleChange}),r.a.createElement(na.a,{for:"message"}," message "),r.a.createElement(Be.a,{className:"text-area",type:"message",name:"message",id:"message",placeholder:"...enter a message...",value:m,onChange:this.handleChange})),r.a.createElement(Ve.a,{onClick:function(){console.log({title:u,author:l,AuthorizedUsersObject:o,message:m}),function(e,a,t,n){var r=(new Date).getTime(),c=z.b.child("chats/").push().key;z.b.child("chats/".concat(c)).set({chatId:c,name:e,createdByUserId:a.id,createdAt:r,authorizedUsers:t}),z.b.child("chat-messages/").child(c).push({id:z.b.child("chat-messages/").child(c).push().key,messagetext:n,author:a,timestamp:r}),Object.values(t).map(function(e){return{id:e.id}}).forEach(function(e){z.b.child("user-chats/".concat(e.id,"/chats/").concat(c)).set({id:c})})}(u,l,o,m)},color:"primary"}," Create chat")))))))}}]),a}(r.a.Component);ra.defaultProps={member:{},chatTarget:{}};var ca=ra,la=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={errorMessage:null},t.onFormSubmit=function(e){return(0,t.props.onFormSubmit)(e).catch(function(e){throw t.setState({errorMessage:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=e.isLoading,l=e.location.chatTarget,s=t.state.errorMessage;return r.a.createElement(n,{member:a,loading:c,error:s,onFormSubmit:t.onFormSubmit,chatTarget:l})},t}return Object(U.a)(a,e),a}(n.Component),sa=Object(s.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1,chatTarget:e.chatTarget}},{})(la),oa=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - You are now a member",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),ia={onFormSubmit:function(e){var a=e.email,t=e.password,n=e.password2,r=e.userName;return function(){return new Promise(function(){var e=Object(_.a)(M.a.mark(function e(c,l){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",l({message:I.a.missingUserName}));case 2:if(a){e.next=4;break}return e.abrupt("return",l({message:I.a.missingEmail}));case 4:if(t){e.next=6;break}return e.abrupt("return",l({message:I.a.missingPassword}));case 6:if(n){e.next=8;break}return e.abrupt("return",l({message:I.a.missingPassword}));case 8:if(t===n){e.next=10;break}return e.abrupt("return",l({message:I.a.passwordsDontMatch}));case 10:return e.abrupt("return",z.a.auth().createUserWithEmailAndPassword(a,t).then(function(e){e&&e.user.uid&&z.b.child("users/".concat(e.user.uid)).set({userName:r,finance:{balance:0},id:e.user.uid,signedUp:z.a.database.ServerValue.TIMESTAMP,lastLoggedIn:z.a.database.ServerValue.TIMESTAMP}).then(c)}).catch(l));case 11:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},ua=Object(s.b)(function(e){return{member:e.member||{}}},ia)(oa),ma=t(223),da=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;n(t.state).then(function(){return r.push("/login")}).catch(function(e){return console.log("Error: ".concat(e))})},t.state={userName:"",email:"",password:"",password2:""},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this.props.error,a=this.state,t=a.userName,n=a.email,c=a.password,l=a.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ee.a,null,r.a.createElement(ea.a,null,"Sign Up"),r.a.createElement(ve.a,null,!!e&&r.a.createElement(ma.a,{color:"danger"},e),r.a.createElement(ze.a,{onSubmit:this.handleSubmit},r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"email"},"Email"),r.a.createElement(Be.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:n,onChange:this.handleChange})),r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"userName"},"UserName"),r.a.createElement(Be.a,{type:"username",name:"userName",id:"userName",placeholder:"John",value:t,onChange:this.handleChange})),r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"password"},"Password"),r.a.createElement(Be.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:c,onChange:this.handleChange})),r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"password2"},"Confirm Password"),r.a.createElement(Be.a,{type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:l,onChange:this.handleChange})),r.a.createElement(Ve.a,{color:"primary"},"Sign Up!")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},"Already have an account?",r.a.createElement(ae.a,{to:"/login"},"Login"))))))))}}]),a}(r.a.Component);da.defaultProps={error:null};var ha=Object(te.a)(da),pa=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Logged in",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),fa={onFormSubmit:function(e){var a=e.email,t=e.password;return function(e){return new Promise(function(){var n=Object(_.a)(M.a.mark(function n(r,c){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return",c({message:I.a.missingEmail}));case 2:if(t){n.next=4;break}return n.abrupt("return",c({message:I.a.missingPassword}));case 4:return n.abrupt("return",z.a.auth().setPersistence(z.a.auth.Auth.Persistence.LOCAL).then(function(){return z.a.auth().signInWithEmailAndPassword(a,t).then(function(){var a=Object(_.a)(M.a.mark(function a(t){var n;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(n=t&&t.user?t.user:null).uid&&(z.b.child("users/".concat(n.uid)).update({lastLoggedIn:z.a.database.ServerValue.TIMESTAMP}),!1===n.emailVerified&&z.a.auth().currentUser.sendEmailVerification().catch(function(){return console.log("Verification email failed to send")}),G(e)),a.abrupt("return",r(e({type:"USER_LOGIN",data:n})));case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(c)}));case 5:case"end":return n.stop()}},n)}));return function(e,a){return n.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},ba=Object(s.b)(function(e){return{member:e.member||{}}},fa)(pa),ga=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){return t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;return n(t.state).then(function(){return setTimeout(function(){return r.push("/")},1e3)}).catch(function(){})},t.state={email:e.member&&e.member.email?e.member.email:"",password:""},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.success,n=e.error,c=this.state,l=c.email,s=c.password;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ee.a,null,r.a.createElement(ea.a,null,"Login"),r.a.createElement(ve.a,null,!!t&&r.a.createElement(ma.a,{color:"success"},t),!!n&&r.a.createElement(ma.a,{color:"danger"},n),r.a.createElement(ze.a,{onSubmit:this.handleSubmit},r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"email"},"Email"),r.a.createElement(Be.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",disabled:a,value:l,onChange:this.handleChange})),r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"password"},"Password"),r.a.createElement(Be.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:a,value:s,onChange:this.handleChange})),r.a.createElement(Ve.a,{color:"primary",disabled:a},a?"Loading":"Login")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ae.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(x.a,{sm:"6",className:"text-right"},r.a.createElement(ae.a,{to:"/forgot-password"},"Forgot Password?"))))))))}}]),a}(r.a.Component);ga.defaultProps={error:null,success:null,member:{}};var Ea=Object(te.a)(ga),va=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Reset link emailed",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),ya={onFormSubmit:function(e){var a=e.email;return function(e){return new Promise(function(){var t=Object(_.a)(M.a.mark(function t(n,r){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",r({message:I.a.missingEmail}));case 2:return t.abrupt("return",z.a.auth().sendPasswordResetEmail(a).then(function(){return n(e({type:"USER_RESET"}))}).catch(r));case 3:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},wa=Object(s.b)(function(e){return{member:e.member||{}}},ya)(va),Oa=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){return t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;return n(t.state).then(function(){return setTimeout(function(){return r.push("/login")},1e3)}).catch(function(){})},t.state={email:e.member&&e.member.email?e.member.email:""},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.error,n=e.success,c=this.state.email;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ee.a,null,r.a.createElement(ea.a,null,"Forgot Password"),r.a.createElement(ve.a,null,!!t&&r.a.createElement(ma.a,{color:"danger"},t),!!n&&r.a.createElement(ma.a,{color:"success"},n),r.a.createElement(ze.a,{onSubmit:this.handleSubmit},r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"email"},"Email"),r.a.createElement(Be.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:c,disabled:a,onChange:this.handleChange})),r.a.createElement(Ve.a,{color:"primary",disabled:a},a?"Loading":"Reset Password")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ae.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(x.a,{sm:"6",className:"text-right"},r.a.createElement(ae.a,{to:"/login"},"Login")," ","to your account.")))))))}}]),a}(r.a.Component);Oa.defaultProps={error:null,success:null,member:{}};var ja=Object(te.a)(Oa),Na=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Updated",error:null})}).catch(function(e){return t.setState({loading:!1,success:null,error:e})})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),Sa={onFormSubmit:function(e){var a=e.email,t=e.password,n=e.password2,r=e.userName,c=e.changeEmail,l=e.changePassword;return function(e){return new Promise(function(){var s=Object(_.a)(M.a.mark(function s(o,i){var u;return M.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(u=z.a.auth().currentUser.uid){s.next=3;break}return s.abrupt("return",i({message:I.a.missingUserName}));case 3:if(r){s.next=5;break}return s.abrupt("return",i({message:I.a.missingUserName}));case 5:if(!c){s.next=8;break}if(a){s.next=8;break}return s.abrupt("return",i({message:I.a.missingEmail}));case 8:if(!l){s.next=15;break}if(t){s.next=11;break}return s.abrupt("return",i({message:I.a.missingPassword}));case 11:if(n){s.next=13;break}return s.abrupt("return",i({message:I.a.missingPassword}));case 13:if(t===n){s.next=15;break}return s.abrupt("return",i({message:I.a.passwordsDontMatch}));case 15:return s.abrupt("return",z.b.child("users/".concat(u)).update({userName:r}).then(Object(_.a)(M.a.mark(function n(){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,z.a.auth().currentUser.updateEmail(a).catch(i);case 3:if(!l){n.next=6;break}return n.next=6,z.a.auth().currentUser.updatePassword(t).catch(i);case 6:return n.abrupt("return",o(G(e)));case 7:case"end":return n.stop()}},n)}))).catch(i));case 16:case"end":return s.stop()}},s)}));return function(e,a){return s.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Ca=Object(s.b)(function(e){return{member:e.member||{}}},Sa)(Na),ka=function(e){function a(e){var t;return Object(L.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){var a="checkbox"===e.target.type?e.target.checked:e.target.value;t.setState(Object(Ie.a)({},e.target.name,a))},t.handleSubmit=function(e){e.preventDefault(),(0,t.props.onFormSubmit)(t.state).catch(function(){})},t.state={userName:e.member.userName||"",email:e.member.email||"",password:"",password2:"",changeEmail:!1,changePassword:!1},t.handleChange=t.handleChange.bind(Object(J.a)(Object(J.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(J.a)(Object(J.a)(t))),t}return Object(U.a)(a,e),Object(W.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.success,n=e.error,c=this.state,l=c.userName,s=c.changeEmail,o=c.email,i=c.changePassword,u=c.password,m=c.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ee.a,{className:"profile"},r.a.createElement(ea.a,{className:"header"},"Update Profile"),r.a.createElement(ve.a,null,!!n&&r.a.createElement(ma.a,{color:"danger"},n),!!t&&r.a.createElement(ma.a,{color:"success"},t),r.a.createElement(ze.a,{onSubmit:this.handleSubmit},r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"userName",style:{margin:0}},"Username"),r.a.createElement(Be.a,{className:"text",type:"text",name:"userName",id:"userName",placeholder:"John",value:l,onChange:this.handleChange})),r.a.createElement(Ge.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(na.a,{check:!0},r.a.createElement(Be.a,{type:"checkbox",name:"changeEmail",checked:s,onChange:this.handleChange})," Change my email ")),s&&r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"email",style:{margin:0}},"New Email address"),r.a.createElement(Be.a,{className:"text",type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:o,onChange:this.handleChange})),r.a.createElement(Ge.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(na.a,{check:!0},r.a.createElement(Be.a,{type:"checkbox",name:"changePassword",checked:i,onChange:this.handleChange})," Change my password ")),i&&r.a.createElement("div",null,r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"password",style:{margin:0}}," New password"),r.a.createElement(Be.a,{className:"text",type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:u,onChange:this.handleChange})),r.a.createElement(Ge.a,null,r.a.createElement(na.a,{for:"password2",style:{margin:0}},"Confirm Password"),r.a.createElement(Be.a,{className:"text",type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:m,onChange:this.handleChange}))),r.a.createElement(Ve.a,{style:{marginTop:20},color:"primary",disabled:a},a?"Loading":"Update Profile")))))))}}]),a}(r.a.Component);ka.defaultProps={error:null,success:null};var xa=ka,Pa=function(){return r.a.createElement(N.a,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(me,null,r.a.createElement(he,e))}}),r.a.createElement(S.a,{path:"/sign-up",render:function(e){return r.a.createElement(R,{pageTitle:"Sign Up"},r.a.createElement(ua,Object.assign({},e,{Layout:ha})))}}),r.a.createElement(S.a,{path:"/login",render:function(e){return r.a.createElement(R,{pageTitle:"Login"},r.a.createElement(ba,Object.assign({},e,{Layout:Ea})))}}),r.a.createElement(S.a,{path:"/forgot-password",render:function(e){return r.a.createElement(R,{pageTitle:"Forgot Password"},r.a.createElement(wa,Object.assign({},e,{Layout:ja})))}}),r.a.createElement(S.a,{path:"/update-profile",render:function(e){return r.a.createElement(me,{pageTitle:"Update Profile"},r.a.createElement(Ca,Object.assign({},e,{Layout:xa})))}}),r.a.createElement(S.a,{path:"/newchat",render:function(e){return r.a.createElement(me,{pageTitle:"Send a message"},r.a.createElement(sa,Object.assign({},e,{Layout:ca})))}}),r.a.createElement(S.a,{path:"/games",render:function(e){return r.a.createElement(me,{pageTitle:"Games"},r.a.createElement(be,Object.assign({},e,{Layout:Ne})))}}),r.a.createElement(S.a,{path:"/game/:id",render:function(e){return r.a.createElement(me,{pageTitle:"Game View"},r.a.createElement(be,Object.assign({},e,{Layout:ke})))}}),r.a.createElement(S.a,{path:"/members",render:function(e){return r.a.createElement(me,{pageTitle:"Members"},r.a.createElement(Xe,Object.assign({},e,{Layout:Qe})))}}),r.a.createElement(S.a,{path:"/member/:id",render:function(e){return r.a.createElement(me,{pageTitle:"Member View"},r.a.createElement(Xe,Object.assign({},e,{Layout:ta})))}}),r.a.createElement(S.a,{path:"/chats",render:function(e){return r.a.createElement(me,{pageTitle:"Chats"},r.a.createElement(De,Object.assign({},e,{Layout:_e})))}}),r.a.createElement(S.a,{path:"/chat/:id",render:function(e){return r.a.createElement(me,{pageTitle:"Chat View"},r.a.createElement(De,Object.assign({},e,{Layout:Ke})))}}),r.a.createElement(S.a,{render:function(e){return r.a.createElement(me,{pageTitle:"404 - Page not found"},r.a.createElement(Oe.a,Object.assign({},e,{title:"404",content:"Sorry, the route you requested does not exist"})))}}))},Ta=(t(188),j()),Ra=Ta.persistor,La=Ta.store,Aa=function(){return r.a.createElement(s.a,{store:La},r.a.createElement(i.a,{loading:r.a.createElement(Se.a,null),persistor:Ra},r.a.createElement(o.a,null,r.a.createElement(Pa,null))))};l.a.render(r.a.createElement(Aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},20:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(108),l=t(109),s=t(190),o=function(e){var a=e.title,t=e.content;return r.a.createElement(c.a,null,r.a.createElement(l.a,{lg:"4"},r.a.createElement("h2",null,a),r.a.createElement("p",null,t),r.a.createElement("p",null,r.a.createElement(s.a,{to:"/",className:"btn btn-primary"},"Go Home"))))};o.defaultProps={title:"Uh oh",content:"An unexpected error came up"},a.a=o},34:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(108),l=t(109),s=t(191);a.a=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{md:{size:6,offset:3}},r.a.createElement("div",{className:"page-is-loading"},r.a.createElement(s.a,{bar:!0,animated:!0,value:"100"},"Loading"))))}},8:function(e,a,t){"use strict";var n=t(60),r="AIzaSyCflEG1XfR5P-bC4V1Z__mv9fGiuv3sC08",c="kasinoww.firebaseapp.com",l="https://kasinoww.firebaseio.com",s="kasinoww.appspot.com",o="980285000127";t.d(a,"b",function(){return f}),t.d(a,"a",function(){return b});var i=r,u=c,m=l,d=s,h=o,p=!1;i&&u&&m&&d&&h&&(n.initializeApp({apiKey:i,authDomain:u,databaseURL:m,storageBucket:d,messagingSenderId:h}),p=!0);var f=p?n.database().ref():null,b=p?n:null}},[[113,2,3]]]);
//# sourceMappingURL=main.29b73000.chunk.js.map